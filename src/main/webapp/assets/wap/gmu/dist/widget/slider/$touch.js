(function(e,t,n){var r={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"},i,s,o,u;t.extend(e.Slider.options,{stopPropagation:!1,disableScroll:!1}),e.Slider.register("touch",{_init:function(){var e=this,t=e.getEl();e._handler=function(t){return e._options.stopPropagation&&t.stopPropagation(),r[t.type]&&e[r[t.type]].call(e,t)},e.on("ready",function(){t.on("touchstart"+e.eventNs,e._handler),e._container.on("click"+e.eventNs,e._handler)})},_onClick:function(){return!u},_onStart:function(e){if(e.touches.length>1)return!1;var t=this,r=e.touches[0],a=t._options,f=t.eventNs,l;s={x:r.pageX,y:r.pageY,time:+(new Date)},o={},u=!1,i=n,l=a.viewNum||1,t._move(a.loop?t._circle(t.index-l):t.index-l,-t.width,0,!0),t._move(a.loop?t._circle(t.index+l):t.index+l,t.width,0,!0),t.$el.on("touchmove"+f+" touchend"+f+" touchcancel"+f,t._handler)},_onMove:function(e){if(e.touches.length>1||e.scale&&e.scale!==1)return!1;var t=this._options,n=t.viewNum||1,r=e.touches[0],a=this.index,f,l,c,h;t.disableScroll&&e.preventDefault(),o.x=r.pageX-s.x,o.y=r.pageY-s.y,typeof i=="undefined"&&(i=Math.abs(o.x)<Math.abs(o.y));if(!i){e.preventDefault(),t.loop||(o.x/=!a&&o.x>0||a===this._items.length-1&&o.x<0?Math.abs(o.x)/this.width+1:1),h=this._slidePos;for(f=a-n,l=a+2*n;f<l;f++)c=t.loop?this._circle(f):f,this._translate(c,o.x+h[c],0);u=!0}},_onEnd:function(){this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler);if(!u)return;var e=this,t=e._options,n=t.viewNum||1,r=e.index,i=e._slidePos,a=+(new Date)-s.time,f=Math.abs(o.x),l=!t.loop&&(!r&&o.x>0||r===i.length-n&&o.x<0),c=o.x>0?1:-1,h,p,d,v,m;a<250?(h=f/a,p=Math.min(Math.round(h*n*1.2),n)):p=Math.round(f/(e.perWidth||e.width));if(p&&!l)e._slide(r,p,c,e.width,t.speed,t,!0),n>1&&a>=250&&Math.ceil(f/e.perWidth)!==p&&(e.index<r?e._move(e.index-1,-e.perWidth,t.speed):e._move(e.index+n,e.width,t.speed));else for(d=r-n,v=r+2*n;d<v;d++)m=t.loop?e._circle(d):d,e._translate(m,i[m],t.speed)}})})(gmu,gmu.$);